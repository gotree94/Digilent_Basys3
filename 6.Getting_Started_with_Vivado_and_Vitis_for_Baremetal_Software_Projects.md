# ğŸš€ Vivado & Vitisë¡œ ì‹œì‘í•˜ëŠ” ë² ì–´ë©”íƒˆ ì†Œí”„íŠ¸ì›¨ì–´ í”„ë¡œì íŠ¸

<img width="866" height="441" alt="012" src="https://github.com/user-attachments/assets/ce5b2179-626b-42ce-b8bd-4f7dcea74965" />
<br>

---

| êµ¬ë¶„             | IP ì´ë¦„                | ì•„í‚¤í…ì²˜              | Vivado ë²„ì „ | ì‚¬ìš© ê°€ëŠ¥ | ë¹„ê³          |
| -------------- | -------------------- | ----------------- | --------- | ----- | ---------- |
| ê¸°ì¡´ Soft CPU    | MicroBlaze           | Xilinx ISA        | â‰¤ 2023.x  | âœ…     | êµ¬í˜•         |
| MCU í˜• Soft CPU | MicroBlaze MCS       | Xilinx ISA        | â‰¤ 2023.x  | âœ…     | êµ¬í˜•         |
| ì°¨ì„¸ëŒ€ Soft CPU   | **MicroBlaze V**     | **RISC-V RV32IM** | â‰¥ 2024.1  | âœ…     | í‘œì¤€ RISC-V  |
| ê²½ëŸ‰í˜• RISC-V MCU | **MicroBlaze MCS V** | **RISC-V RV32IM** | â‰¥ 2024.1  | âœ…     | ë‚´ì¥í˜• MCU    |
| êµìœ¡ìš© 8-bit      | KCPSM6 (PicoBlaze)   | ì „ìš© 8-bit          | ëª¨ë“  ë²„ì „ ìˆ˜ë™  | âœ…     | VHDL ì§ì ‘ ì¶”ê°€ |


## ê°œìš” (Overview)
ì´ ê°€ì´ë“œëŠ” **Vivado**ì™€ **Vitis**ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ì„¤ì •í•˜ëŠ” ê³¼ì •ì„ ë‹¨ê³„ë³„ë¡œ ì„¤ëª…í•©ë‹ˆë‹¤. ë²„íŠ¼ê³¼ LEDì— ì—°ê²°ëœ ì—¬ëŸ¬ **AXI GPIO** ì£¼ë³€ì¥ì¹˜ë¥¼ í¬í•¨í•˜ëŠ” **í”„ë¡œì„¸ì„œ ê¸°ë°˜ ê°„ë‹¨í•œ í•˜ë“œì›¨ì–´ ì„¤ê³„**ë¥¼ ë§Œë“¤ê³ , ì´ë¥¼ **Vitis IDE**ë¡œ ë‚´ë³´ë‚¸ ë’¤ **ë² ì–´ë©”íƒˆ ì†Œí”„íŠ¸ì›¨ì–´ í”„ë¡œì íŠ¸**ë¥¼ ìƒì„±í•˜ì—¬ ë²„íŠ¼ì„ í´ë§(poll)í•˜ê³  LEDë¥¼ ì œì–´í•˜ëŠ” ì˜ˆì œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.  
(í•˜ë“œì›¨ì–´ë§Œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” *Vivado for Hardware-Only Designs* ì°¸ê³ )

---

## ìš”êµ¬ ì‚¬í•­ (Requirements)

### í•˜ë“œì›¨ì–´
- Digilent FPGA ê°œë°œ ë³´ë“œ 1ëŒ€
- ë³´ë“œì— í•„ìš”í•œ **USB í”„ë¡œê·¸ë˜ë° ì¼€ì´ë¸”**, **USB UART ì¼€ì´ë¸”**, **ì „ì› ê³µê¸‰ì¥ì¹˜**
> **ì£¼ì˜:** **Genesys ZU**ëŠ” Zynq Ultrascale+ MPSoCë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ë¶€íŠ¸ë¡œë” ì¶”ê°€ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤. ë³¸ ê°€ì´ë“œì˜ ì ìš© ëŒ€ìƒì´ ì•„ë‹ˆë©°, í•´ë‹¹ ë³´ë“œ ë¦¬ì†ŒìŠ¤ ì„¼í„°ì˜ ì‹œì‘ ê°€ì´ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”.

### ì†Œí”„íŠ¸ì›¨ì–´
- **Vivado** ë° **Vitis** ì„¤ì¹˜  
  ì„¤ì¹˜ ë°©ë²•: *Installing Vivado, Vitis, and Digilent Board Files*
- **ë³´ë“œ íŒŒì¼(Board Files)**  
  ì´ ê°€ì´ë“œëŠ” GitHubì˜ Digilent `vivado-library` ì €ì¥ì†Œì— ìˆëŠ” ë³´ë“œ íŒŒì¼ì„ ê¸°ì¤€ìœ¼ë¡œ í•©ë‹ˆë‹¤(ìœ„ ì„¤ì¹˜ ê°€ì´ë“œ ì°¸ê³ ).

> ë³¸ ê°€ì´ë“œì˜ ìŠ¤í¬ë¦°ìƒ·ì€ ì‚¬ìš© ì¤‘ì¸ ë²„ì „ê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë‚˜, **Vivado/Vitis 2022.1**ì—ì„œ ì›Œí¬í”Œë¡œëŠ” ê²€ì¦ë˜ì—ˆìŠµë‹ˆë‹¤.  
> **Vitis 2023.2**ëŠ” UI ë³€ê²½ìœ¼ë¡œ í”„ë¡œì íŠ¸ ìƒì„± ì ˆì°¨ê°€ í¬ê²Œ ë‹¬ë¼ì¡ŒìŠµë‹ˆë‹¤(adiuvoengineering ë¸”ë¡œê·¸ì˜ Adam Taylor ê¸€ ì°¸ê³ ). ë˜í•œ, ë³¸ íŠœí† ë¦¬ì–¼ì˜ ì˜ˆì œ ì½”ë“œëŠ” **2023.2 ì´ìƒ ë²„ì „ì—ì„œ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤**.  
> Vivadoì— **Xilinx SDK(2019.1 ì´í•˜)** ê°€ í¬í•¨ëœ ë²„ì „ì„ ì‚¬ìš©í•œë‹¤ë©´, *Getting Started with Vivado IP Integrator and Xilinx SDK*ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

> **ì°¸ê³ :** ì‚¬ìš©ì Viktor Nikolovì´ Digilent í¬ëŸ¼ì— MicroBlaze + DDRìš© ëŒ€ì²´ í´ë¡ êµ¬ì¡° íŠœí† ë¦¬ì–¼ì„ ê²Œì‹œí–ˆìŠµë‹ˆë‹¤(Arty A7, Arty S7, Nexys A7, Nexys Video, USB104 A7 í•´ë‹¹). ê¸°ì¡´ í”Œë¡œìš°ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜¤ë¥˜ë¥¼ íšŒí”¼í•˜ë„ë¡ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ì…ë¬¸ìì—ê²Œ ê¶Œì¥ë©ë‹ˆë‹¤.  
> í¬ëŸ¼ ê¸€: https://forum.digilent.com/topic/27389-arty-a7-microblaze-ddr3-tutorial/

---

## ê°€ì´ë“œ (Guide)

### 1. Vivado ì‹¤í–‰ (Launch Vivado)

#### Windows
- ì„¤ì¹˜ ì‹œ ìƒì„±ëœ ì‹œì‘ ë©”ë‰´/ë°”íƒ•í™”ë©´ ì•„ì´ì½˜ìœ¼ë¡œ Vivado ì‹¤í–‰

#### Linux
```bash
source <install_path>/Vivado/<version>/settings64.sh
vivado
```

---

### 2. Vivado í”„ë¡œì íŠ¸ ìƒì„± (Create a Vivado Project)
Vivado ì‹œì‘ í™”ë©´:
- **Create Project**: ìƒˆ í”„ë¡œì íŠ¸ ë§ˆë²•ì‚¬ ì‹œì‘(ë³¸ ê°€ì´ë“œ ì‚¬ìš©)
- **Open Project**: ê¸°ì¡´ XPR í”„ë¡œì íŠ¸ ì—´ê¸°
- **Open Hardware Manager**: í”„ë¡œì íŠ¸ ì—†ì´ ë¹„íŠ¸ìŠ¤íŠ¸ë¦¼ë§Œ ë³´ë“œì— ë‹¤ìš´ë¡œë“œ

1) **Create Project** í´ë¦­ â†’ **Next**  
2) í”„ë¡œì íŠ¸ ì´ë¦„/ìœ„ì¹˜ ì§€ì •  
   - **ê³µë°± ì‚¬ìš© ê¸ˆì§€**(ë¬¸ì œ ë°œìƒ). ì–¸ë”ìŠ¤ì½”ì–´/ëŒ€ì‹œ/CamelCase ê¶Œì¥  
   - `Create project subdirectory` ì²´í¬ ê¶Œì¥ â†’ **Next**
3) **Project Type**: **RTL Project** ì„ íƒ, **Do not specify sources at this time** ì²´í¬ â†’ **Next**
4) íƒ€ê¹ƒ **Board** ë˜ëŠ” **Part** ì„ íƒ  
   - **Board** ì„ íƒ ê¶Œì¥(ë³´ë“œ íŒŒì¼ì„ í†µí•œ ì¶”ê°€ êµ¬ì„± ì •ë³´ ì œê³µ)  
   - ë³´ë“œê°€ ë³´ì´ì§€ ì•Šìœ¼ë©´ **ë³´ë“œ íŒŒì¼ ì„¤ì¹˜** í•„ìš”  
   - Vivado 2022.2ëŠ” ë³´ë“œ ëª©ë¡ **Refresh/Install** ì¶”ê°€ ë‹¨ê³„ ìˆìŒ â†’ **Next**
5) ìš”ì•½ í™•ì¸ â†’ **Finish**

---

### 3. ë¸”ë¡ ë””ìì¸ ìƒì„± (Create a Block Design)
- Flow Navigator â†’ **IP Integrator** â†’ **Create Block Design**
- ì´ë¦„ ì§€ì •(ì˜ˆ: `design_1`) â€” **ê³µë°± ê¸ˆì§€** â†’ **OK**

---

### 4. í”„ë¡œì„¸ì„œ ì¶”ê°€ (Add a Processor)

> **MicroBlaze**: Zynq ë””ë°”ì´ìŠ¤ê°€ ì—†ëŠ” ë³´ë“œì—ì„œ ì‚¬ìš©  
> **Zynq7 Processing System(PS)**: Zynq ë³´ë“œì—ì„œ ì‚¬ìš©

#### 4-1) MicroBlaze ì¶”ê°€ (DDR ì—†ìŒ ë³´ë“œ)

1) **Board** íƒ­ì—ì„œ **System Clock** ìš°í´ë¦­ â†’ **Connect Board Component**  
   - **Clocking Wizard**ì˜ `CLK_IN1`ì— ì—°ê²°(í´ë¡ ìƒì„±ìš©)
2) **Run Connection Automation** â†’ Clocking Wizardì˜ **reset** ì—°ê²°  
   - ë³´ë“œ ë¦¬ì…‹ ê·¹ì„±ì— ë”°ë¼ **Utility Vector Logic**ê°€ ìë™ ì‚½ì…ë  ìˆ˜ ìˆìŒ
3) Clocking Wizard ë”ë¸”í´ë¦­ â†’ **Output Clocks** íƒ­ì—ì„œ í•„ìš”í•œ ì¶œë ¥ í´ë¡(ì£¼íŒŒìˆ˜/ì´ë¦„) ì„¤ì • â†’ **OK**
4) **Add IP** â†’ **MicroBlaze** ì¶”ê°€
5) ìƒë‹¨ **Run Block Automation**  
   - ì£¼ìš” ì˜µì…˜
     - *Local Memory*: DDRì´ ì—†ìœ¼ë©´ ë” í° BRAM í•„ìš”(ì‘ì€ ì•±ì€ **32KB**ë„ ê°€ëŠ¥)
     - *Cache Configuration*: DDR ì‚¬ìš© ì‹œ **Enable**, ê·¸ ì™¸ **Disable**
     - *Peripheral AXI Port*: ì£¼ë³€ì¥ì¹˜ ì—°ê²° ìœ„í•´ **Enable**
     - *Interrupt Controller*: ì¸í„°ëŸ½íŠ¸ í•„ìš”í•œ ê²½ìš° **ì²´í¬**
     - *Clock Connection*: DDR ì—†ëŠ” ì„¤ê³„ëŠ” **Clocking Wizard `clk_out1`** ì‚¬ìš©
   - ì„¤ì • í™•ì¸ í›„ **OK**
6) **USB UART** ì¸í„°í˜ì´ìŠ¤ ì—°ê²°  
   - Board íƒ­ â†’ UART ìš°í´ë¦­ â†’ **Connect Board Component** â†’ **AXI Uartlite** ì„ íƒ
7) **Run Connection Automation** â†’ ë‚¨ì€ AXI ì¸í„°í˜ì´ìŠ¤ ìë™ ì—°ê²°

#### 4-2) MicroBlaze ì¶”ê°€ (DDR ìˆëŠ” ë³´ë“œ)

> DDRì„ ë¨¼ì € êµ¬ì„±í•˜ì—¬ ì‹œìŠ¤í…œ í´ë¡ ì†ŒìŠ¤ë¡œ í™œìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

1) Board íƒ­ì—ì„œ **DDR** ìš°í´ë¦­ â†’ **Auto Connect**  
   - MIG + ì™¸ë¶€ DDR ì¸í„°í˜ì´ìŠ¤ ì¶”ê°€, `clk_ref_i`/`ui_addn_clk_0` ìƒì„±
2) `clk_ref_i` **ì‚­ì œ**
3) `ui_addn_clk_0`ì˜ **Frequency ~200 MHz** í™•ì¸ â†’ `ui_addn_clk_0`ë¥¼ `clk_ref_i`ì— **ìˆ˜ë™ ì—°ê²°**
4) `sys_clk_i`ëŠ” ë³´ë“œ íŒŒì¼ë¡œ ì œì•½ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ **XDC ì œì•½ ì¶”ê°€ í•„ìš”**
   - *digilent-xdc-master.zip* ë‹¤ìš´ë¡œë“œ/ì••ì¶• í•´ì œ
   - **Add Sources** â†’ **Add or create constraints** â†’ **constrs_1**ì— **ë³´ë“œ XDC** ì¶”ê°€(ë³µì‚¬ ì˜µì…˜ ì²´í¬)
   - XDCì—ì„œ **100 MHz ì…ë ¥ í´ë¡** ì œì•½ì˜ `create_clock -period 10.000` í•­ëª©ì„ `sys_clk_i`ë¡œ ìˆ˜ì •/ì €ì¥
5) **Run Connection Automation** â†’ `sys_rst`ë¥¼ ë³´ë“œ ë¦¬ì…‹ì— ì—°ê²°
6) MIGì˜ ê¸°íƒ€ í¬íŠ¸ ì²˜ë¦¬
   - `device_temp_i`ê°€ ìˆìœ¼ë©´ **Constant(12'b0)** ìœ¼ë¡œ ì ‘ì§€
7) ì¶”ê°€ í´ë¡ í•„ìš” ì‹œ **Clocking Wizard** ì¶”ê°€  
   - ì…ë ¥: `MIG ui_clk`, ë¦¬ì…‹: `ui_clk_sync_rst`  
   - **Output Clocks** íƒ­ì—ì„œ í•„ìš” ì£¼íŒŒìˆ˜ ìƒì„±
8) **Add IP** â†’ **MicroBlaze** ì¶”ê°€ â†’ **Run Block Automation**
   - *Clock Connection*: `MIG ui_clk` ë˜ëŠ” ìœ„ì—ì„œ ë§Œë“  í´ë¡ ì‚¬ìš©(**`MIG sys_clk_i` ì…ë ¥ì„ ì„ íƒí•˜ì§€ ì•Šë„ë¡ ì£¼ì˜**)
9) **Run Connection Automation** â†’ **MIG S_AXI**ë¥¼ **MicroBlaze (Cached)** ì— ì—°ê²°
10) **USB UART** ì—°ê²°(AXI Uartlite) â†’ **Run Connection Automation**ìœ¼ë¡œ ë‚˜ë¨¸ì§€ ìë™ ì—°ê²°

#### 4-3) Zynq7 Processing System ì¶”ê°€

1) **Add IP** â†’ **ZYNQ7 Processing System**  
2) ìƒë‹¨ **Run Block Automation** â†’ **Apply Board Preset** ìœ ì§€ â†’ **OK**
3) ì„¤ì • ë³€ê²½ í•„ìš” ì‹œ ë”ë¸”í´ë¦­  
   - **Clock Configuration â†’ PL Fabric Clocks(FCLKs)**: ì¶”ê°€ í´ë¡ í™œì„±í™”/ì£¼íŒŒìˆ˜ ì„¤ì • ê°€ëŠ¥  
   - **Interrupts â†’ Fabric Interrupts â†’ IRQ_F2P**: ì¸í„°ëŸ½íŠ¸ ì‚¬ìš© ì‹œ í™œì„±í™”(ì—¬ëŸ¬ ì†ŒìŠ¤ë©´ **Concat IP**ë¡œ í•©ì¹˜ê¸°)

---

### 5. AXI GPIO ì£¼ë³€ì¥ì¹˜ ì¶”ê°€ (Add GPIO Peripherals)

1) **Board íƒ­** â†’ **GPIO/LED** ì¸í„°í˜ì´ìŠ¤ ìš°í´ë¦­ â†’ **Connect Board Interface**  
   - ìƒˆ **AXI GPIO**ì˜ `GPIO` ì¸í„°í˜ì´ìŠ¤ ì„ íƒ  
   - ì¼ë¶€ ë³´ë“œëŠ” ë¦¬ì…‹ ë²„íŠ¼ì„ ë¦¬ì…‹ ì†ŒìŠ¤ë¡œ ì“°ë¯€ë¡œ, í•´ë‹¹ ëª¨ë“œê°€ ì•„ë‹Œ êµ¬ì„± ì„ íƒ
2) Diagram ì¢Œì¸¡ **Block Properties**ì—ì„œ ì´ë¦„ ë³€ê²½(ì˜ˆ: `AXI_GPIO_LED`)
3) **ë‘ ë²ˆì§¸ AXI GPIO** ìˆ˜ë™ ì¶”ê°€(ë²„íŠ¼ìš©) â†’ ì´ë¦„ `AXI_GPIO_BUTTONS`  
   - `GPIO` ì¸í„°í˜ì´ìŠ¤ ìš°í´ë¦­ â†’ **Make External** (ë³´ë“œ íŒŒì¼ ì˜ì¡´ X)
4) **ë³´ë“œ XDC** ì¶”ê°€(ìœ„ì™€ ë™ì¼ ì ˆì°¨) â†’ **ë²„íŠ¼ í•€ ì œì•½** ì£¼ì„ í•´ì œ  
   - ì™¸ë¶€ í¬íŠ¸ ì´ë¦„ì„ **`btn`** ë¡œ ë³€ê²½  
   - XDC ë‚´ `get_ports` ì´ë¦„ì„ `btn_tri_io[#]`ë¡œ ìˆ˜ì •(0ë¶€í„° ì¸ë±ì‹±)
5) `AXI_GPIO_BUTTONS` ë”ë¸”í´ë¦­ â†’ **GPIO Width**ë¥¼ ë²„íŠ¼ ìˆ˜ì— ë§ê²Œ ì„¤ì • â†’ **OK**
6) **Run Connection Automation** â†’ ë‘ AXI GPIOì˜ `S_AXI`ë¥¼ **í”„ë¡œì„¸ì„œ**ì— ì—°ê²°

---

### 6. ì£¼ì†Œ ë§µ í¸ì§‘ (Edit the Address Map)
- ë“œë¬¼ê²Œ AXI ì£¼ì†Œ ìë™ í• ë‹¹ ì‹¤íŒ¨ ì‹œ **Address Editor**ì—ì„œ ìˆ˜ë™ ì§€ì •  
- **ë²”ìœ„ ì •ë ¬/ì¤‘ë³µ ê¸ˆì§€**, **0 ì£¼ì†Œ í• ë‹¹ ì§€ì–‘**  
- ìˆ˜ì • í›„ **Validate Design** ì¬ì‹¤í–‰

---

### 7. ë¸”ë¡ ë””ìì¸ ê²€ì¦ (Validate a Block Design)
- Diagram íˆ´ë°”ì˜ **Validate Design(F6)** í´ë¦­  
- ê²½ê³  ëŒ€ë¶€ë¶„ì€ ë¬´ì‹œ ê°€ëŠ¥(ì¼ë¶€ Zynq ë³´ë“œì˜ DDR DQS ê²½ê³  í¬í•¨ â€” ë³´ë“œ ë§¤ë‰´ì–¼ Errata ì°¸ê³ )

---

### 8. HDL Wrapper ìƒì„± (Create an HDL Wrapper)
- **Sources** â†’ `.bd` íŒŒì¼ ìš°í´ë¦­ â†’ **Create HDL Wrapper**  
- **Let Vivado manage wrapper and auto-update** ê¶Œì¥

---

### 9. í”„ë¡œì íŠ¸ ë¹Œë“œ (Build a Vivado Project)
- Flow Navigator â†’ **Program and Debug â†’ Generate Bitstream**  
- **Number of jobs**ëŠ” ê°€ëŠ¥í•œ í° ê°’ ê¶Œì¥  
- íŠ¹ì • ê²½ê³ (íŒ¨í‚¤ì§• ë³´ë“œ ê°’, Zynq CK-to-DQS ìŒìˆ˜ ì§€ì—° ë“±)ëŠ” ë¬´ì‹œ ê°€ëŠ¥  
- ì™„ë£Œ í›„ **Open Implemented Design / View Reports / Open Hardware Manager / Generate MCS** ë“± ì„ íƒ ë˜ëŠ” **Cancel**

---

### 10. ê³ ì •(Post-Synth) í•˜ë“œì›¨ì–´ í”Œë«í¼ ë‚´ë³´ë‚´ê¸° (Export a Fixed Post-Synthesis Hardware Platform)
- **File â†’ Export â†’ Export Hardware**
  - í”Œë«í¼ ìœ í˜•: **Fixed** ì„ íƒ(2022.1ì—ëŠ” í™”ë©´ ìƒëµ ê°€ëŠ¥)
  - **Include bitstream** ì„ íƒ(ë¹„íŠ¸ í¬í•¨ ì‹œ Vitisì—ì„œ ìë™ ì°¸ì¡°)
  - **XSA ì´ë¦„/ê²½ë¡œ** ì§€ì •(ê³µë°± ê¸ˆì§€, ì–¸ë”ìŠ¤ì½”ì–´/ì¹´ë©œì¼€ì´ìŠ¤ ê¶Œì¥)
  - ìš”ì•½ í™•ì¸ í›„ **Finish**

---

### 11. Vitis ì‹¤í–‰ (Launch Vitis)
- OSë³„ ì‹¤í–‰ ë˜ëŠ” Vivadoì—ì„œ **Tools â†’ Launch Vitis**
- **Workspace** ì„ íƒ(ì—†ìœ¼ë©´ ìƒì„±) â†’ **Launch**

---

### 12. ìƒˆ Application í”„ë¡œì íŠ¸ ìƒì„± (Create a New Application Project)
1) Vitis ì‹œì‘ í™”ë©´ â†’ **Create Application Project**
2) í™˜ì˜ í™”ë©´ â†’ **Next**
3) **Create a new platformâ€¦** íƒ­ â†’ ì•ì„œ ë‚´ë³´ë‚¸ **XSA**ë¥¼ **Open**  
   - Hardware Specification ëª©ë¡ì—ì„œ ì„ íƒ  
   - í”Œë«í¼ ì´ë¦„ ì§€ì •(ê¸°ë³¸ê°’ ì‚¬ìš© ê°€ëŠ¥)  
   - **Generate boot components** ì²´í¬ ê¶Œì¥ â†’ **Next**
4) ì‹œìŠ¤í…œ/ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë¦„ ë° íƒ€ê¹ƒ ì½”ì–´ ì„¤ì •(ê¸°ë³¸ê°’ ì‚¬ìš©) â†’ **Next**
5) ë„ë©”ì¸ ì„¤ì •(ê¸°ë³¸ê°’) â†’ **Next**
6) í…œí”Œë¦¿: **Empty Application**(C ë˜ëŠ” C++) ì„ íƒ â†’ **Finish**

---

### 13. AXI GPIOë¥¼ ì œì–´í•˜ëŠ” C ì†ŒìŠ¤ ìƒì„± (Create a Main C Source)
1) Explorerì˜ **í”„ë¡œì íŠ¸ `src` í´ë”** ìš°í´ë¦­ â†’ **New â†’ File** â†’ íŒŒì¼ëª… `main.c`
2) **Vitis 2023.2**ì—ì„œëŠ” `xparameters.h`ì˜ ë””ë°”ì´ìŠ¤ ID ëŒ€ì‹  **BASEADDR ê¸°ë°˜ ì´ˆê¸°í™”**ë¥¼ ì‚¬ìš©í•´ì•¼ í•  ìˆ˜ ìˆìŒ(ì˜ˆ: `XGpio_LookupConfig(XPAR_AXI_GPIO_BUTTONS_BASEADDR)`).
3) ì•„ë˜ ì½”ë“œë¥¼ `main.c`ì— ë³µì‚¬.  
   - `BTN_MASK`ì™€ `LED_MASK`ë¥¼ **ë³´ë“œì˜ ë²„íŠ¼/LED ê°œìˆ˜**ì— ë§ê²Œ 1ì˜ ë¹„íŠ¸ ìˆ˜ë¡œ ì„¤ì •

**í—¤ë” ì„¤ëª…**
- `xparameters.h`: Vivado í”Œë«í¼ ë‚´ë³´ë‚´ê¸° ì‹œ ìƒì„±ë˜ëŠ” í•˜ë“œì›¨ì–´ ì •ë³´(ì£¼ì†Œ/íŒŒë¼ë¯¸í„° ë“±)
- `xil_printf.h`: `xil_printf`(í‘œì¤€ ì¶œë ¥) â€” `stdio`ë³´ë‹¤ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì ìŒ
- `xgpio.h`: AXI GPIO ë“œë¼ì´ë²„ API
- `xil_types.h`: `u32` ë“± Xilinx íƒ€ì… ì •ì˜

**ë™ì‘ ìš”ì•½**
- ì‹œì‘ ì‹œ `"Entered function main"` ë©”ì‹œì§€ ì¶œë ¥
- GPIO ì´ˆê¸°í™” í›„ ë£¨í”„ì—ì„œ ë²„íŠ¼ ìƒíƒœ ì½ê¸° â†’ ë²„íŠ¼ ëˆ„ë¦„ ì‹œ LED ON, ì•„ë‹ˆë©´ OFF

```c
#include "xparameters.h"
#include "xil_printf.h"
#include "xgpio.h"
#include "xil_types.h"

// Get device IDs from xparameters.h
#define BTN_ID XPAR_AXI_GPIO_BUTTONS_DEVICE_ID
#define LED_ID XPAR_AXI_GPIO_LED_DEVICE_ID
#define BTN_CHANNEL 1
#define LED_CHANNEL 1
#define BTN_MASK 0b1111
#define LED_MASK 0b1111

int main() {
    XGpio_Config *cfg_ptr;
    XGpio led_device, btn_device;
    u32 data;

    xil_printf("Entered function main\r\n");

    // Initialize LED Device
    cfg_ptr = XGpio_LookupConfig(LED_ID);
    XGpio_CfgInitialize(&led_device, cfg_ptr, cfg_ptr->BaseAddress);

    // Initialize Button Device
    cfg_ptr = XGpio_LookupConfig(BTN_ID);
    XGpio_CfgInitialize(&btn_device, cfg_ptr, cfg_ptr->BaseAddress);

    // Set Button Tristate (inputs)
    XGpio_SetDataDirection(&btn_device, BTN_CHANNEL, BTN_MASK);

    // Set LED Tristate (outputs)
    XGpio_SetDataDirection(&led_device, LED_CHANNEL, 0);

    while (1) {
        data = XGpio_DiscreteRead(&btn_device, BTN_CHANNEL);
        data &= BTN_MASK;
        if (data != 0) {
            data = LED_MASK;
        } else {
            data = 0;
        }
        XGpio_DiscreteWrite(&led_device, LED_CHANNEL, data);
    }
}
```

---

### 14. Vitis ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ (Build a Vitis Application)
- **Assistant** ì°½ì—ì„œ **[System] í”„ë¡œì íŠ¸** ì„ íƒ â†’ **Build** ë²„íŠ¼ ë˜ëŠ” **Ctrl+B**
- **Platforms / Systems / Applications** ë¹Œë“œ íƒ€ê¹ƒ ì°¨ì´ ìœ ì˜  
- ì™„ë£Œ í›„ **Console**ì— â€œBuild Finishedâ€ í‘œì‹œ

---

### 15. ë³´ë“œ ì—°ê²° ë° ì‹¤í–‰ (Launch a Vitis Baremetal Software Application)
1) ë³´ë“œ **JTAG ë¶€íŠ¸**ë¡œ ì„¤ì •(ê¸°ì¡´ í”Œë˜ì‹œ/SD ë¶€íŠ¸ í˜¼ë™ ë°©ì§€)  
2) **ì‹œë¦¬ì–¼ í„°ë¯¸ë„** ì—°ê²°(í‘œì¤€ ì¶œë ¥ í™•ì¸ìš©)
   - **Zynq**: 115200 baud / **MicroBlaze + AXI UART Lite**: 9600 baud  
   - íë¦„ ì œì–´: **NONE**  
   - Vitis ë‚´ì¥ í„°ë¯¸ë„ì€ ë¼ì¸ ë‹¨ìœ„ ì „ì†¡ íŠ¹ì„± â€” í•„ìš” ì‹œ **Tera Term/PuTTY** ê¶Œì¥
3) Explorerì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜/ì‹œìŠ¤í…œ í”„ë¡œì íŠ¸ ìš°í´ë¦­ â†’  
   **Run as â†’ 1 Launch on Hardware (Single Application Debug)**  
   - ë¹„íŠ¸ìŠ¤íŠ¸ë¦¼ ë‹¤ìš´ë¡œë“œ â†’ ELF ë¡œë“œ â†’ ì‹¤í–‰ ì‹œì‘  
   - ì´í›„ì—ëŠ” íˆ´ë°”ì˜ **ì´ˆë¡ ì‹¤í–‰ ë²„íŠ¼**ìœ¼ë¡œ ì¬ì‹¤í–‰ ê°€ëŠ¥

---

## ë‹¤ìŒ ë‹¨ê³„ (Next Steps)
- í˜„ì¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ê³ , ì¶œë ¥ ë©”ì‹œì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. **ì¶•í•˜í•©ë‹ˆë‹¤!**
- ë³¸ í•˜ë“œì›¨ì–´/ì†Œí”„íŠ¸ì›¨ì–´ í”„ë¡œì íŠ¸ëŠ” ì¶”í›„ ì‘ì—…ì˜ ê¸°ë°˜ìœ¼ë¡œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
  í•˜ë“œì›¨ì–´ ê°±ì‹  ë°©ë²•: *Update an Existing Vitis Platform's Hardware Specification* ì°¸ê³ 
- ë³´ë“œë³„ ì¶”ê°€ ê°€ì´ë“œ/ë°ëª¨ëŠ” **Programmable Logic** í˜ì´ì§€ì—ì„œ ë³´ë“œ **Resource Center**ë¡œ ì´ë™í•˜ì—¬ í™•ì¸í•˜ì„¸ìš”.
- ê¸°ìˆ  ì§€ì›: **Digilent Forums â†’ FPGA ì„¹ì…˜**

---
